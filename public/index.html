<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WCRádió - Revamped</title>
    <link rel="icon" type="image/x-icon" href="./icon.png" />

    <script>
      async function playSong(event) {
        event.preventDefault(); // Prevent default form submission

        const songName = document.getElementById("song-input").value;

        const response = await fetch("/play", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ song: songName }),
        });

        const result = await response.json();
        alert(result.message);
      }
      async function interactWithSong(interaction) {
        event.preventDefault(); // Prevent default form submission

        const songName = interaction;

        const response = await fetch("/play", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ song: songName }),
        });

        const result = await response.json();
        alert(result.message);
      }
    </script>
    <style>
      @font-face {
        font-family: "Comic-Sans";
        src: url("./Comic\ Sans\ MS.ttf");
      }
      @font-face {
        font-family: "Proto-Mono";
        src: url("./Proto\ Mono\ Regular.ttf");
      }
    </style>
  </head>
  <body
    style="
      background-color: #020b15;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    "
  >
    <h1
      style="
        font-family: Comic-Sans;
        font-size: 40px;
        color: white;
        margin-bottom: 0px;
        margin-top: 90px;
      "
    >
      WCRádió
    </h1>
    <h1
      style="
        margin-top: -20px;
        font-family: Proto-Mono;
        background: linear-gradient(to right, #22c1c3, #fdbb2d);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-size: 50px;
      "
    >
      REVAMPED
    </h1>
    <form
      onsubmit="playSong(event)"
      style="
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      "
    >
      <input
        type="text"
        id="song-input"
        placeholder="a dalod címe vagy hivatkozása youtubeon"
        required=""
        data-np-intersection-state="visible"
        style="
          text-align: center;
          background-color: #333333;
          box-shadow: none;
          border: none;
          outline: none;
          font-family: Proto-Mono;
          width: 95svw;
          height: 43px;
          border-radius: 9px;
          font-size: 15px;
          color: white;
        "
      />
      <button
        type="submit"
        style="
          background: linear-gradient(to right, #22c1c3, #fdbb2d);
          outline: none;
          box-shadow: none;
          border: none;
          margin-top: 35px;
          width: 77px;
          height: 77px;
          border-radius: 20px;
        "
      >
        <svg
          width="35"
          height="47"
          viewBox="0 0 35 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          style="margin-left: 7px"
        >
          <path
            d="M34.3627 22.2864L2.27937 0.254814C1.83167 -0.050691 1.25417 -0.0844722 0.775833 0.169626C0.298958 0.423723 0 0.923106 0 1.46802V45.5312C0 46.0761 0.29896 46.5755 0.777293 46.8296C0.99021 46.9442 1.225 47 1.45833 47C1.74563 47 2.03292 46.9133 2.27937 46.7444L34.3627 24.7128C34.7608 24.4396 35 23.9858 35 23.4996C35 23.0135 34.7608 22.5596 34.3627 22.2864Z"
            fill="white"
          />
        </svg>
      </button>
    </form>
    <div
      style="
        position: fixed;
        bottom: 10svh;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: row;
        gap: 20px;
      "
    >
      <button
        onclick="interactWithSong('toggleStop')"
        style="
          background: linear-gradient(to right, #22c1c3, #fdbb2d);
          outline: none;
          box-shadow: none;
          border: none;
          margin-top: 35px;
          width: 60px;
          height: 60px;
          border-radius: 20px;
        "
      >
        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M7 1H2V15H7V1Z" fill="#fff"></path>
            <path d="M14 1H9V15H14V1Z" fill="#fff"></path>
          </g>
        </svg>
      </button>
      <button
        onclick="interactWithSong('skip')"
        style="
          background: linear-gradient(to right, #22c1c3, #fdbb2d);
          outline: none;
          box-shadow: none;
          border: none;
          margin-top: 35px;
          width: 60px;
          height: 60px;
          border-radius: 20px;
        "
      >
        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M4 15H2V1H4L10 7V1H14V15H10V9L4 15Z" fill="#fff"></path>
          </g>
        </svg>
      </button>
      <button
        onclick="interactWithSong('toggleStart')"
        style="
          background: linear-gradient(to right, #22c1c3, #fdbb2d);
          outline: none;
          box-shadow: none;
          border: none;
          margin-top: 35px;
          width: 60px;
          height: 60px;
          border-radius: 20px;
        "
      >
        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M1 14H3L9 8L3 2H1V14Z" fill="#fff"></path>
            <path d="M15 2H13V14H15V2Z" fill="#fff"></path>
            <path d="M9 2H11V14H9V2Z" fill="#fff"></path>
          </g>
        </svg>
      </button>
    </div>
    <nordpass-passkeys></nordpass-passkeys>
  </body>
</html>
